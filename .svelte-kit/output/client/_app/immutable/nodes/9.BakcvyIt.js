import{j as bt,a as W,k as Y,s as m,e as kt,i as $t}from"../chunks/24e2lO8G.js";import{h as Pt,t as x,a as _}from"../chunks/j7d9bldu.js";import{i as Z}from"../chunks/DzluJWIa.js";import{p as tt,l as z,a as et,e as at,f as q,b as o,t as I,g as t,m as w,s as j,d as rt,n as ot,$ as wt,c as h,r as v}from"../chunks/XjSzAxxV.js";import{s as jt}from"../chunks/DuS9CJ1Y.js";import{p as st,s as nt,a as it,i as R}from"../chunks/BQQYos4s.js";import{h as X}from"../chunks/CoueGlLg.js";import{o as Tt}from"../chunks/C7mwA5k6.js";import{p as lt}from"../chunks/CENBFzmi.js";import{S as St}from"../chunks/B9VSjDm6.js";import{P as Et}from"../chunks/C4Ckgbfu.js";async function Dt({params:C}){const g=await bt(C.slug);if(!g){const[f,e]=await Promise.all([W(1,12),fetch("https://rooidadha.ir/wp-json/backlink/v1/links")]),u=await e.json();return{tag:null,posts:[],totalPages:1,lasttextPosts:f.posts,backlinks:u}}const[T,D,y]=await Promise.all([Y(g.id,1),W(1,12),fetch("https://rooidadha.ir/wp-json/backlink/v1/links")]),a=await y.json();return{tag:g,posts:T.posts,totalPages:T.totalPages,lasttextPosts:D.posts,backlinks:a}}const Xt=Object.freeze(Object.defineProperty({__proto__:null,load:Dt},Symbol.toStringTag,{value:"Module"}));var Ot=x('<meta name="description"> <link rel="canonical"> <meta property="og:title"> <meta property="og:description"> <meta property="og:type"> <meta property="og:url"> <meta property="og:site_name"> <meta property="og:locale" content="fa_IR">',1);function Ct(C,g){tt(g,!1);const[T,D]=nt(),y=()=>it(lt,"$page",T),a=w(),f=w();let e=st(g,"tag",8,null);const u={title:"آرشیو برچسب‌ها | رسا نشر",description:"مطالب برچسب‌گذاری شده در رسا نشر",canonical:"https://rasanashr.ir/tag",ogTitle:"آرشیو برچسب‌ها | رسا نشر",ogDescription:"مجموعه مطالب برچسب‌گذاری شده در رسا نشر",ogType:"website",ogSite_name:"رسا نشر"};Tt(()=>{if(e())try{document.querySelectorAll('meta:not([name="viewport"])').forEach(i=>i.remove()),[{name:"description",content:t(a).description},{name:"keywords",content:`${e().name}, رسا نشر, اخبار ${e().name}, آرشیو ${e().name}`},{name:"robots",content:"index, follow"}].forEach(({name:i,content:p})=>{const l=document.createElement("meta");l.name=i,l.content=p,document.head.appendChild(l)});const k={title:t(a).ogTitle,description:t(a).ogDescription,type:t(a).ogType,url:t(f),site_name:t(a).ogSite_name,locale:"fa_IR"};Object.entries(k).forEach(([i,p])=>{const l=document.createElement("meta");l.setAttribute("property",`og:${i}`),l.content=p,document.head.appendChild(l)});let n=document.querySelector('link[rel="canonical"]');n&&n.remove(),n=document.createElement("link"),n.rel="canonical",n.href=t(a).canonical,document.head.appendChild(n);const $={"@context":"https://schema.org","@type":"CollectionPage",name:t(a).title,description:t(a).description,url:t(f),publisher:{"@type":"Organization",name:"رسا نشر",logo:{"@type":"ImageObject",url:"https://rasanashr.ir/duc.png"}}};let r=document.querySelector('script[type="application/ld+json"]');r&&r.remove(),r=document.createElement("script"),r.type="application/ld+json",r.textContent=JSON.stringify($),document.head.appendChild(r)}catch(s){console.error("Error updating tag SEO:",s)}}),z(()=>rt(e()),()=>{var s;j(a,(s=e())!=null&&s.name?{title:`${e().name} | رسا نشر`,description:e().description||`مطالب مرتبط با برچسب ${e().name} در رسا نشر`,canonical:`https://rasanashr.ir/tag/${e().slug}`,ogTitle:`${e().name} | رسا نشر`,ogDescription:e().description||`مطالب مرتبط با برچسب ${e().name}`,ogType:"website",ogSite_name:"رسا نشر"}:u)}),z(()=>y(),()=>{j(f,`https://rasanashr.ir${y().url.pathname}`)}),et(),Z(),Pt(s=>{var b=Ot(),k=q(b),n=o(k,2),$=o(n,2),r=o($,2),i=o(r,2),p=o(i,2),l=o(p,2);ot(2),I(()=>{wt.title=t(a).title,m(k,"content",t(a).description),m(n,"href",t(a).canonical),m($,"content",t(a).ogTitle),m(r,"content",t(a).ogDescription),m(i,"content",t(a).ogType),m(p,"content",t(f)),m(l,"content",t(a).ogSite_name)}),_(s,b)}),at(),D()}var Mt=x('<img class="w-[98%] h-50 object-cover rounded-xl">'),Rt=x('<article class="bg-stone-100 rounded-lg shadow-lg overflow-hidden"><!> <div class="p-6"><h2 class="text-lg font-bold lg:text-xl text-justify mb-4"><a class="hover:text-red-600"><!></a></h2> <div class="prose prose-lg max-w-none mb-4 text-gray-600 text-justify leading-7"><!></div></div></article>'),qt=x('<div class="space-y-4"></div> <!>',1),It=x('<p class="text-xl text-gray-600 text-center py-12">مطلبی با این برچسب یافت نشد.</p>'),zt=x('<h1 class="text-lg font-bold lg:text-3xl text-justify mt-3 mb-4"> </h1> <!>',1),At=x('<div class="text-center py-12"><p class="text-xl text-gray-600">در حال بارگذاری...</p></div>'),Nt=x('<!> <div class="flex flex-col lg:flex-row gap-8"><div class="w-full lg:w-2/3"><!> <div class="mb-15"></div></div> <!></div>',1);function Yt(C,g){tt(g,!1);const[T,D]=nt(),y=()=>it(lt,"$page",T),a=w(),f=w();let e=st(g,"data",8),u=w(e().posts),s=e().tag,b=w(e().totalPages),k=w(1);async function n(c,P=1){const S=await Y(c,P);j(u,S.posts),j(b,S.totalPages),j(k,P)}z(()=>y(),()=>{j(a,`https://rasanashr.ir${y().url.pathname}`)}),z(()=>rt(e()),()=>{var c;j(f,((c=e().tag)==null?void 0:c.name)||"")}),et(),Z();var $=Nt(),r=q($);Ct(r,{get tag(){return e().tag}});var i=o(r,2),p=h(i),l=h(p);{var ct=c=>{var P=zt(),S=q(P),mt=h(S);v(S);var gt=o(S,2);{var vt=E=>{var M=qt(),A=q(M);kt(A,5,()=>t(u),$t,(O,d)=>{var N=Rt(),G=h(N);{var _t=J=>{var F=Mt();I(()=>{var L,Q,V;m(F,"src",((V=(Q=(L=t(d)._embedded)==null?void 0:L["wp:featuredmedia"])==null?void 0:Q[0])==null?void 0:V.source_url)||"/placeholder.jpg"),m(F,"alt",t(d).title.rendered)}),_(J,F)};R(G,J=>{t(d)._embedded&&t(d)._embedded["wp:featuredmedia"]&&J(_t)})}var H=o(G,2),U=h(H),B=h(U),xt=h(B);X(xt,()=>t(d).title.rendered),v(B),v(U);var K=o(U,2),yt=h(K);X(yt,()=>t(d).excerpt.rendered),v(K),v(H),v(N),I(()=>m(B,"href",`/${t(d).id??""}/${t(d).slug??""}`)),_(O,N)}),v(A);var ut=o(A,2);{var ht=O=>{Et(O,{get currentPage(){return t(k)},get totalPages(){return t(b)},onPageChange:d=>n(s.id,d)})};R(ut,O=>{t(b)>1&&O(ht)})}_(E,M)},ft=E=>{var M=It();_(E,M)};R(gt,E=>{t(u)&&t(u).length>0?E(vt):E(ft,!1)})}I(()=>jt(mt,`مطالب مرتبط با برچسب: ${s.name??""}`)),_(c,P)},pt=c=>{var P=At();_(c,P)};R(l,c=>{s?c(ct):c(pt,!1)})}ot(2),v(p);var dt=o(p,2);St(dt,{get lasttextPosts(){return e().lasttextPosts},get backlinks(){return e().backlinks}}),v(i),_(C,$),at(),D()}export{Yt as component,Xt as universal};
