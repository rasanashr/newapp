import{f as bt,a as yt,b as rt,s as u,e as wt,i as Pt}from"../chunks/24e2lO8G.js";import{h as kt,t as p,a as d,e as $t}from"../chunks/j7d9bldu.js";import{i as ot}from"../chunks/DzluJWIa.js";import{p as st,l as N,a as it,e as nt,f as F,t as J,s as $,m as j,d as C,b as i,g as t,$ as jt,c as v,n as Ot,r as l}from"../chunks/XjSzAxxV.js";import{s as St}from"../chunks/DuS9CJ1Y.js";import{p as X,i as k,s as Dt,a as At}from"../chunks/BQQYos4s.js";import{h as W}from"../chunks/CoueGlLg.js";import{S as It}from"../chunks/1yZpvcLQ.js";import{P as zt}from"../chunks/C4Ckgbfu.js";import{p as Et}from"../chunks/B9GwK8tt.js";async function Rt({params:O}){try{const[e,b,y]=await Promise.all([bt(O.slug),yt(1,12),fetch("https://rooidadha.ir/wp-json/backlink/v1/links")]),c=await y.json();let o=[],r=1,a=null;if(e&&e.id){console.log("Fetching posts for author ID:",e.id);const s=await rt(e.id,1);o=s.posts,r=s.totalPages;const m=e.description||`مطالب ${e.name}`;a={title:`${e.name} | پایگاه خبری تحلیلی رسا نشر`,description:m,robots:"index, follow",og:{title:`${e.name} | رسا نشر`,description:m,type:"website",site_name:"رسا نشر",locale:"fa_IR"},jsonLd:{"@context":"https://schema.org","@type":"ProfilePage",name:e.name,description:m,url:`https://rasanashr.ir/author/${O.slug}`,publisher:{"@type":"Organization",name:"پایگاه خبری تحلیلی رسا نشر",url:"https://rasanashr.ir"}}}}else console.error("Author not found or invalid author ID");return{author:e,posts:o,totalPages:r,seo:a,lasttextPosts:b.posts,backlinks:c}}catch(e){return console.error("Error in load function:",e),{author:null,posts:[],totalPages:1,seo:null,lasttextPosts:[],backlinks:[]}}}const oe=Object.freeze(Object.defineProperty({__proto__:null,load:Rt},Symbol.toStringTag,{value:"Module"}));var Tt=p('<meta name="author">'),Bt=$t(`<script type="application/ld+json">
      {JSON.stringify({
        "@context": "https://schema.org",
        "@type": "ProfilePage",
        name: author.name,
        description: author.description || \`مطالب \${author.name}\`,
        publisher: {
          "@type": "Organization",
          name: "رسا نشر",
          url: "https://rasanashr.ir"
        }
      })}
    <\/script><!---->`,1),Ct=p('<meta name="description"> <meta name="robots" content="index, follow"> <!> <meta property="og:title"> <meta property="og:description"> <meta property="og:type"> <meta property="og:site_name"> <meta property="og:locale"> <!>',1);function Ft(O,e){st(e,!1);const b=j(),y=j(),c=j();let o=X(e,"author",8,null),r=X(e,"seo",8,null);N(()=>(C(r()),C(o())),()=>{var a;$(b,((a=r())==null?void 0:a.title)||(o()?`${o().name} | رسا نشر`:"رسا نشر"))}),N(()=>(C(r()),C(o())),()=>{var a,s;$(y,((a=r())==null?void 0:a.description)||((s=o())==null?void 0:s.description)||(o()?`مطالب ${o().name}`:"پایگاه خبری رسا نشر"))}),N(()=>C(r()),()=>{var a;$(c,((a=r())==null?void 0:a.og)||{})}),it(),ot(),kt(a=>{var s=Ct(),m=F(s),S=i(m,4);{var U=f=>{var w=Tt();J(()=>u(w,"content",o().name)),d(f,w)};k(S,f=>{o()&&f(U)})}var D=i(S,2),L=i(D,2),A=i(L,2),I=i(A,2),z=i(I,2),E=i(z,2);{var q=f=>{var w=Bt();i(F(w)),d(f,w)};k(E,f=>{o()&&f(q)})}J(()=>{jt.title=t(b),u(m,"content",t(y)),u(D,"content",t(c).title||t(b)),u(L,"content",t(c).description||t(y)),u(A,"content",t(c).type||"website"),u(I,"content",t(c).site_name||"رسا نشر"),u(z,"content",t(c).locale||"fa_IR")}),d(a,s)}),nt()}var Jt=p('<div class="prose prose-lg text-md lg:text-lg max-w-none mb-4 text-gray-500 text-justify leading-6"><!></div>'),Lt=p('<img class="w-[98%] h-50 object-cover rounded-xl">'),Mt=p('<article class="bg-stone-100 rounded-lg shadow-lg overflow-hidden"><!> <div class="p-6"><h2 class="text-lg font-bold lg:text-2xl text-justify mb-4"><a class="hover:text-red-600"><!></a></h2> <div class="prose prose-lg max-w-none mb-4 text-gray-600 text-justify leading-7"><!></div></div></article>'),Nt=p('<div class="mt-8"><!></div>'),Ut=p('<div class="space-y-8"></div> <!>',1),qt=p('<div class="text-center py-8"><p class="text-xl text-gray-600">هیچ مطلبی از این نویسنده یافت نشد.</p></div>'),Gt=p('<div class="bg-white rounded-lg shadow-lg p-8 mb-8"><h1 class="text-lg font-bold lg:text-3xl text-justify mb-4"> </h1> <!></div> <!>',1),Ht=p('<div class="text-center py-8"><h1 class="text-3xl font-bold mb-4">نویسنده یافت نشد</h1> <p class="text-xl text-gray-600">متأسفانه نویسنده مورد نظر شما در سایت وجود ندارد.</p> <a href="/" class="inline-block mt-4 bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">بازگشت به صفحه اصلی</a></div>'),Kt=p('<!> <div class="flex flex-col lg:flex-row gap-8"><div class="w-full lg:w-2/3"><!> <div class="mb-15"></div></div> <!></div>',1);function se(O,e){st(e,!1);const[b,y]=Dt(),c=()=>At(Et,"$page",b),o=j();let r=X(e,"data",8),a=j(r().posts),s=r().author,m=j(r().totalPages),S=j(1),U=r().seo,D=!1;async function L(h,P=1){try{D=!0;const _=await rt(h,P);$(a,_.posts),$(m,_.totalPages),$(S,P),window.scrollTo({top:0,behavior:"smooth"})}catch(_){console.error("Error loading posts:",_)}finally{D=!1}}N(()=>c(),()=>{$(o,`https://rasanashr.ir${c().url.pathname}`)}),it(),ot();var A=Kt(),I=F(A);Ft(I,{author:s,seo:U});var z=i(I,2),E=v(z),q=v(E);{var f=h=>{var P=Gt(),_=F(P),G=v(_),dt=v(G,!0);l(G);var ct=i(G,2);{var vt=g=>{var x=Jt(),R=v(x);W(R,()=>s.description),l(x),d(g,x)};k(ct,g=>{s.description&&g(vt)})}l(_);var pt=i(_,2);{var mt=g=>{var x=Ut(),R=F(x);wt(R,5,()=>t(a),Pt,(T,n)=>{var B=Mt(),M=v(B);{var ht=Q=>{var V=Lt();J(()=>{var tt,et,at;u(V,"src",((at=(et=(tt=t(n)._embedded)==null?void 0:tt["wp:featuredmedia"])==null?void 0:et[0])==null?void 0:at.source_url)||"/placeholder.jpg"),u(V,"alt",t(n).title.rendered)}),d(Q,V)};k(M,Q=>{t(n)._embedded&&t(n)._embedded["wp:featuredmedia"]&&Q(ht)})}var Y=i(M,2),H=v(Y),K=v(H),_t=v(K);W(_t,()=>t(n).title.rendered),l(K),l(H);var Z=i(H,2),xt=v(Z);W(xt,()=>t(n).excerpt.rendered),l(Z),l(Y),l(B),J(()=>u(K,"href",`/${t(n).id??""}/${t(n).slug??""}`)),d(T,B)}),l(R);var ut=i(R,2);{var ft=T=>{var n=Nt(),B=v(n);zt(B,{get currentPage(){return t(S)},get totalPages(){return t(m)},onPageChange:M=>L(s.id,M)}),l(n),d(T,n)};k(ut,T=>{t(m)>1&&T(ft)})}d(g,x)},gt=g=>{var x=qt();d(g,x)};k(pt,g=>{t(a)&&t(a).length>0?g(mt):g(gt,!1)})}J(()=>St(dt,s.name)),d(h,P)},w=h=>{var P=Ht();d(h,P)};k(q,h=>{s?h(f):h(w,!1)})}Ot(2),l(E);var lt=i(E,2);It(lt,{get lasttextPosts(){return r().lasttextPosts},get backlinks(){return r().backlinks}}),l(z),d(O,A),nt(),y()}export{se as component,oe as universal};
