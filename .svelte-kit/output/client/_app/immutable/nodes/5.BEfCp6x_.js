import{d as xt,g as st,a as bt,s,e as Pt,i as wt}from"../chunks/24e2lO8G.js";import{h as kt,t as x,a as h}from"../chunks/j7d9bldu.js";import{i as ot}from"../chunks/DzluJWIa.js";import{p as lt,l as y,a as nt,e as it,f as q,b as e,t as A,s as p,m as g,d as M,g as t,$ as $t,c as u,n as jt,r as f}from"../chunks/XjSzAxxV.js";import{s as Ot}from"../chunks/DuS9CJ1Y.js";import{p as W,s as ct,a as dt,i as N}from"../chunks/BQQYos4s.js";import{h as X}from"../chunks/CoueGlLg.js";import{S as St}from"../chunks/B9VSjDm6.js";import{p as pt}from"../chunks/CENBFzmi.js";import{P as Ct}from"../chunks/C4Ckgbfu.js";async function Et({params:D}){try{const r=await xt(D.slug),[k,O,b]=await Promise.all([r?st(r.id,1):{posts:[],totalPages:1},bt(1,12),fetch("https://rooidadha.ir/wp-json/backlink/v1/links")]),o=await b.json();return{category:r,posts:k.posts,totalPages:k.totalPages,lasttextPosts:O.posts,backlinks:o}}catch(r){return console.error("Error:",r),{category:null,posts:[],totalPages:1,lasttextPosts:[],backlinks:[]}}}const Wt=Object.freeze(Object.defineProperty({__proto__:null,load:Et},Symbol.toStringTag,{value:"Module"}));var zt=x('<meta name="description"> <meta name="keywords"> <meta name="robots" content="index, follow"> <link rel="canonical"> <meta property="og:title"> <meta property="og:description"> <meta property="og:type"> <meta property="og:url"> <meta property="og:site_name"> <meta property="og:locale"> <!>',1);function Dt(D,r){lt(r,!1);const[k,O]=ct(),b=()=>dt(pt,"$page",k),o=g(),a=g(),l=g(),P=g(),n=g(),S=g(),I=g();let C=W(r,"seo",8),i=W(r,"category",8);y(()=>b(),()=>{p(o,`https://rasanashr.ir${b().url.pathname}`)}),y(()=>M(i()),()=>{p(a,i()?`${i().name} | رسا نشر`:"رسا نشر")}),y(()=>(M(C()),M(i())),()=>{var w,_;p(l,((w=C())==null?void 0:w.description)||`آرشیو مطالب دسته ${(_=i())==null?void 0:_.name} در رسا نشر`)}),y(()=>M(i()),()=>{p(P,i()?`${i().name}, رسا نشر, اخبار ${i().name}`:"")}),y(()=>(t(a),t(l),t(o)),()=>{p(n,{title:t(a),description:t(l),type:"website",url:t(o),site_name:"رسا نشر",locale:"fa_IR"})}),y(()=>t(o),()=>{p(S,t(o))}),y(()=>(t(a),t(l),t(o)),()=>{p(I,{"@context":"https://schema.org","@type":"CollectionPage",name:t(a),description:t(l),url:t(o),publisher:{"@type":"Organization",name:"رسا نشر",logo:{"@type":"ImageObject",url:"https://rasanashr.ir/duc.png"}}})}),nt(),ot(),kt(w=>{var _=zt(),E=q(_),$=e(E,2),R=e($,4),T=e(R,2),U=e(T,2),B=e(U,2),c=e(B,2),m=e(c,2),d=e(m,2),F=e(d,2);X(F,()=>`<script type="application/ld+json">${JSON.stringify(t(I))}<\/script>`),A(()=>{$t.title=t(a),s(E,"content",t(l)),s($,"content",t(P)),s(R,"href",t(S)),s(T,"content",t(n).title),s(U,"content",t(n).description),s(B,"content",t(n).type),s(c,"content",t(n).url),s(m,"content",t(n).site_name),s(d,"content",t(n).locale)}),h(w,_)}),it(),O()}var It=x('<img class="w-[98%] h-50 object-cover rounded-xl">'),Rt=x('<article class="bg-stone-100 rounded-lg shadow-lg overflow-hidden"><!> <div class="p-6"><h2 class="text-lg font-bold lg:text-2xl text-justify mb-4"><a class="hover:text-red-600"><!></a></h2> <div class="prose prose-lg max-w-none mb-4 text-gray-600 text-justify leading-7"><!></div></div></article>'),Tt=x('<div class="space-y-8"></div> <!>',1),Ut=x('<div class="text-center py-8"><p class="text-xl text-gray-600">هیچ مطلبی در این دسته‌بندی یافت نشد.</p></div>'),Bt=x('<h1 class="text-lg font-bold lg:text-3xl text-justify mt-4"> </h1> <!>',1),Jt=x('<div class="text-center py-8"><h1 class="text-3xl font-bold mb-4">دسته‌بندی یافت نشد</h1> <p class="text-xl text-gray-600">متأسفانه دسته‌بندی مورد نظر شما در سایت وجود ندارد.</p> <a href="/" class="inline-block mt-4 bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">بازگشت به صفحه اصلی</a></div>'),Mt=x('<!> <div class="flex flex-col lg:flex-row gap-8"><div class="w-full lg:w-2/3"><!> <div class="mb-15"></div></div> <!></div>',1);function Xt(D,r){lt(r,!1);const[k,O]=ct(),b=()=>dt(pt,"$page",k),o=g();let a=W(r,"data",8),l=g(a().posts),P=a().category,n=g(a().totalPages),S=g(1),I=a().seo,C=!1;async function i(c,m=1){try{C=!0;const d=await st(c,m);p(l,d.posts),p(n,d.totalPages),p(S,m),window.scrollTo({top:0,behavior:"smooth"})}catch(d){console.error("Error loading posts:",d)}finally{C=!1}}y(()=>b(),()=>{p(o,`https://rasanashr.ir${b().url.pathname}`)}),nt(),ot();var w=Mt(),_=q(w);Dt(_,{category:P,seo:I});var E=e(_,2),$=u(E),R=u($);{var T=c=>{var m=Bt(),d=q(m),F=u(d);f(d);var gt=e(d,2);{var mt=j=>{var J=Tt(),G=q(J);Pt(G,5,()=>t(l),wt,(z,v)=>{var H=Rt(),Y=u(H);{var ut=Q=>{var V=It();A(()=>{var et,at,rt;s(V,"src",((rt=(at=(et=t(v)._embedded)==null?void 0:et["wp:featuredmedia"])==null?void 0:at[0])==null?void 0:rt.source_url)||"/placeholder.jpg"),s(V,"alt",t(v).title.rendered)}),h(Q,V)};N(Y,Q=>{t(v)._embedded&&t(v)._embedded["wp:featuredmedia"]&&Q(ut)})}var Z=e(Y,2),K=u(Z),L=u(K),ht=u(L);X(ht,()=>t(v).title.rendered),f(L),f(K);var tt=e(K,2),yt=u(tt);X(yt,()=>t(v).excerpt.rendered),f(tt),f(Z),f(H),A(()=>s(L,"href",`/${t(v).id??""}/${t(v).slug??""}`)),h(z,H)}),f(G);var ft=e(G,2);{var _t=z=>{Ct(z,{get currentPage(){return t(S)},get totalPages(){return t(n)},onPageChange:v=>i(P.id,v)})};N(ft,z=>{t(n)>1&&z(_t)})}h(j,J)},vt=j=>{var J=Ut();h(j,J)};N(gt,j=>{t(l)&&t(l).length>0?j(mt):j(vt,!1)})}A(()=>Ot(F,`دسته‌بندی: ${P.name??""}`)),h(c,m)},U=c=>{var m=Jt();h(c,m)};N(R,c=>{P?c(T):c(U,!1)})}jt(2),f($);var B=e($,2);St(B,{get lasttextPosts(){return a().lasttextPosts},get backlinks(){return a().backlinks}}),f(E),h(D,w),it(),O()}export{Xt as component,Wt as universal};
