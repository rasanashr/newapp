import{E as $,h as O,i as H,ae as Z,G as j,af as z,I as J,J as K,v as V,K as L,M as q,N as U,O as Y,ag as Q,o as W,ah as X,ai as k,a7 as B,m as w,g as d,s as F,aj as x,ak as ee,al as ae,ac as M,F as re,am as ne,an as se,ao as ue,C as y,ap as ie,aq as fe,ar as te,B as le,as as _e,at as ce,au as ve,av as oe}from"./B6FlMjrQ.js";import{s as de,g as be}from"./DUB9ztRx.js";function Ee(e,r,[n,a]=[0,0]){O&&n===0&&H();var i=e,u=null,f=null,b=Q,g=n>0?Z:0,_=!1;const A=(t,c=!0)=>{_=!0,o(c,t)},o=(t,c)=>{if(b===(b=t))return;let I=!1;if(O&&a!==-1){if(n===0){const l=j(i);l===z?a=0:l===J?a=1/0:(a=parseInt(l.substring(1)),a!==a&&(a=b?1/0:-1))}const E=a>n;!!b===E&&(i=K(),V(i),L(!1),I=!0,a=-1)}b?(u?q(u):c&&(u=U(()=>c(i))),f&&Y(f,()=>{f=null})):(f?q(f):c&&(f=U(()=>c(i,[n+1,a]))),u&&Y(u,()=>{u=null})),I&&L(!0)};$(()=>{_=!1,r(A),_||o(null,null)},g),O&&(i=W)}let T=!1,h=Symbol();function me(e,r,n){const a=n[r]??(n[r]={store:null,source:w(void 0),unsubscribe:B});if(a.store!==e&&!(h in n))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=B;else{var i=!0;a.unsubscribe=de(e,u=>{i?a.source.v=u:F(a.source,u)}),i=!1}return e&&h in n?be(e):d(a.source)}function Pe(){const e={};function r(){X(()=>{for(var n in e)e[n].unsubscribe();k(e,h,{enumerable:!1,value:!0})})}return[e,r]}function Ie(e){var r=T;try{return T=!1,[e(),T]}finally{T=r}}function C(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function Te(e,r,n,a){var D;var i=(n&ce)!==0,u=!le||(n&_e)!==0,f=(n&ie)!==0,b=(n&ve)!==0,g=!1,_;f?[_,g]=Ie(()=>e[r]):_=e[r];var A=fe in e||te in e,o=f&&(((D=x(e,r))==null?void 0:D.set)??(A&&r in e&&(s=>e[r]=s)))||void 0,t=a,c=!0,I=!1,E=()=>(I=!0,c&&(c=!1,b?t=y(a):t=a),t);_===void 0&&a!==void 0&&(o&&u&&ee(),_=E(),o&&o(_));var l;if(u)l=()=>{var s=e[r];return s===void 0?E():(c=!0,I=!1,s)};else{var p=(i?M:re)(()=>e[r]);p.f|=ae,l=()=>{var s=d(p);return s!==void 0&&(t=void 0),s===void 0?t:s}}if((n&ne)===0)return l;if(o){var G=e.$$legacy;return function(s,S){return arguments.length>0?((!u||!S||G||g)&&o(S?l():s),s):l()}}var m=!1,R=!1,P=w(_),v=M(()=>{var s=l(),S=d(P);return m?(m=!1,R=!0,S):(R=!1,P.v=s)});return f&&d(v),i||(v.equals=se),function(s,S){if(oe!==null&&(m=R,l(),d(P)),arguments.length>0){const N=S?d(v):u&&f?ue(s):s;if(!v.equals(N)){if(m=!0,F(P,N),I&&t!==void 0&&(t=N),C(v))return s;y(()=>d(v))}return s}return C(v)?v.v:d(v)}}export{me as a,Ee as i,Te as p,Pe as s};
