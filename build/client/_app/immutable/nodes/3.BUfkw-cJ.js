import{f as bt,a as yt,b as rt}from"../chunks/Oyg_TdfJ.js";import{h as wt,t as p,a as d,e as Pt}from"../chunks/CrqCNo7s.js";import{i as ot}from"../chunks/C-zKQLXa.js";import{p as st,l as U,a as lt,e as it,f as J,t as L,s as j,m as z,d as I,b as l,g as t,$ as $t,c as v,n as kt,r as n}from"../chunks/B6FlMjrQ.js";import{s as jt}from"../chunks/iFHsnjK9.js";import{p as X,i as k,s as zt,a as Ot}from"../chunks/CvhO7qhS.js";import{s as u,e as St,i as At}from"../chunks/BsRF2vc2.js";import{h as W}from"../chunks/CakbJC7y.js";import{S as Dt}from"../chunks/D9AOjJGB.js";import{P as Rt}from"../chunks/B4yyLVG6.js";import{p as Tt}from"../chunks/BThVNy5y.js";async function Et({params:y}){try{const[e,w,P]=await Promise.all([bt(y.slug),yt(1,12),fetch("https://rooidadha.ir/wp-json/backlink/v1/links")]),c=await P.json();let o=[],r=1,a=null;if(e&&e.id){const s=await rt(e.id,1);o=s.posts,r=s.totalPages;const m=e.description||`مطالب ${e.name}`;a={title:`${e.name} | پایگاه خبری تحلیلی رسانه روز`,description:m,robots:"index, follow",og:{title:`${e.name} | رسانه روز`,description:m,type:"website",site_name:"رسانه روز",locale:"fa_IR"},jsonLd:{"@context":"https://schema.org","@type":"ProfilePage",name:e.name,description:m,url:`https://rasarooz.ir/author/${y.slug}`,publisher:{"@type":"Organization",name:"پایگاه خبری تحلیلی رسانه روز",url:"https://rasarooz.ir"}}}}else console.error(`Author not found: ${y.slug}`);return{author:e,posts:o,totalPages:r,seo:a,lasttextPosts:w.posts,backlinks:c}}catch(e){return console.error(`Author page error [slug=${y.slug}]: ${e.message}`),{author:null,posts:[],totalPages:1,seo:null,lasttextPosts:[],backlinks:[]}}}const se=Object.freeze(Object.defineProperty({__proto__:null,load:Et},Symbol.toStringTag,{value:"Module"}));var Bt=p('<meta name="author">'),Ct=Pt(`<script type="application/ld+json">
      {JSON.stringify({
        "@context": "https://schema.org",
        "@type": "ProfilePage",
        name: author.name,
        description: author.description || \`مطالب \${author.name}\`,
        publisher: {
          "@type": "Organization",
          name: "رسا نشر",
          url: "https://rasarooz.ir"
        }
      })}
    <\/script><!---->`,1),It=p('<meta name="description"> <meta name="robots" content="index, follow"> <!> <meta property="og:title"> <meta property="og:description"> <meta property="og:type"> <meta property="og:site_name"> <meta property="og:locale"> <!>',1);function Jt(y,e){st(e,!1);const w=z(),P=z(),c=z();let o=X(e,"author",8,null),r=X(e,"seo",8,null);U(()=>(I(r()),I(o())),()=>{var a;j(w,((a=r())==null?void 0:a.title)||(o()?`${o().name} | رسانه روز`:"رسانه روز"))}),U(()=>(I(r()),I(o())),()=>{var a,s;j(P,((a=r())==null?void 0:a.description)||((s=o())==null?void 0:s.description)||(o()?`مطالب ${o().name}`:"پایگاه خبری رسانه روز"))}),U(()=>I(r()),()=>{var a;j(c,((a=r())==null?void 0:a.og)||{})}),lt(),ot(),wt(a=>{var s=It(),m=J(s),O=l(m,4);{var q=f=>{var $=Bt();L(()=>u($,"content",o().name)),d(f,$)};k(O,f=>{o()&&f(q)})}var S=l(O,2),M=l(S,2),A=l(M,2),D=l(A,2),R=l(D,2),T=l(R,2);{var F=f=>{var $=Ct();l(J($)),d(f,$)};k(T,f=>{o()&&f(F)})}L(()=>{$t.title=t(w),u(m,"content",t(P)),u(S,"content",t(c).title||t(w)),u(M,"content",t(c).description||t(P)),u(A,"content",t(c).type||"website"),u(D,"content",t(c).site_name||"رسا نشر"),u(R,"content",t(c).locale||"fa_IR")}),d(a,s)}),it()}var Lt=p('<div class="prose prose-lg text-md lg:text-lg max-w-none mb-4 text-gray-500 text-justify leading-6"><!></div>'),Mt=p('<img class="w-[98%] h-50 object-cover rounded-xl">'),Nt=p('<article class="bg-stone-100 rounded-lg shadow-lg overflow-hidden"><!> <div class="p-6"><h2 class="text-lg font-bold lg:text-2xl text-justify mb-4"><a class="hover:text-red-600"><!></a></h2> <div class="prose prose-lg max-w-none mb-4 text-gray-600 text-justify leading-7"><!></div></div></article>'),Ut=p('<div class="mt-8"><!></div>'),qt=p('<div class="space-y-8"></div> <!>',1),Ft=p('<div class="text-center py-8"><p class="text-xl text-gray-600">هیچ مطلبی از این نویسنده یافت نشد.</p></div>'),Gt=p('<div class="bg-white rounded-lg shadow-lg p-8 mb-8"><h1 class="text-lg font-bold lg:text-3xl text-justify mb-4"> </h1> <!></div> <!>',1),Ht=p('<div class="text-center py-8"><h1 class="text-3xl font-bold mb-4">نویسنده یافت نشد</h1> <p class="text-xl text-gray-600">متأسفانه نویسنده مورد نظر شما در سایت وجود ندارد.</p> <a href="/" class="inline-block mt-4 bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">بازگشت به صفحه اصلی</a></div>'),Kt=p('<!> <div class="flex flex-col lg:flex-row gap-8"><div class="w-full lg:w-2/3"><!> <div class="mb-15"></div></div> <!></div>',1);function le(y,e){st(e,!1);const[w,P]=zt(),c=()=>Ot(Tt,"$page",w),o=z();let r=X(e,"data",8),a=z(r().posts),s=r().author,m=z(r().totalPages),O=z(1),q=r().seo,S=!1;async function M(_,h=1){try{S=!0;const x=await rt(_,h);j(a,x.posts),j(m,x.totalPages),j(O,h),window.scrollTo({top:0,behavior:"smooth"})}catch(x){console.error(`Error loading author posts [id=${_}, page=${h}]: ${x.message}`)}finally{S=!1}}U(()=>c(),()=>{j(o,`https://rasarooz.ir${c().url.pathname}`)}),lt(),ot();var A=Kt(),D=J(A);Jt(D,{author:s,seo:q});var R=l(D,2),T=v(R),F=v(T);{var f=_=>{var h=Gt(),x=J(h),G=v(x),dt=v(G,!0);n(G);var ct=l(G,2);{var vt=g=>{var b=Lt(),E=v(b);W(E,()=>s.description),n(b),d(g,b)};k(ct,g=>{s.description&&g(vt)})}n(x);var pt=l(x,2);{var mt=g=>{var b=qt(),E=J(b);St(E,5,()=>t(a),At,(B,i)=>{var C=Nt(),N=v(C);{var _t=Q=>{var V=Mt();L(()=>{var tt,et,at;u(V,"src",((at=(et=(tt=t(i)._embedded)==null?void 0:tt["wp:featuredmedia"])==null?void 0:et[0])==null?void 0:at.source_url)||"/placeholder.jpg"),u(V,"alt",t(i).title.rendered)}),d(Q,V)};k(N,Q=>{t(i)._embedded&&t(i)._embedded["wp:featuredmedia"]&&Q(_t)})}var Y=l(N,2),H=v(Y),K=v(H),ht=v(K);W(ht,()=>t(i).title.rendered),n(K),n(H);var Z=l(H,2),xt=v(Z);W(xt,()=>t(i).excerpt.rendered),n(Z),n(Y),n(C),L(()=>u(K,"href",`/${t(i).id??""}/${t(i).slug??""}`)),d(B,C)}),n(E);var ut=l(E,2);{var ft=B=>{var i=Ut(),C=v(i);Rt(C,{get currentPage(){return t(O)},get totalPages(){return t(m)},onPageChange:N=>M(s.id,N)}),n(i),d(B,i)};k(ut,B=>{t(m)>1&&B(ft)})}d(g,b)},gt=g=>{var b=Ft();d(g,b)};k(pt,g=>{t(a)&&t(a).length>0?g(mt):g(gt,!1)})}L(()=>jt(dt,s.name)),d(_,h)},$=_=>{var h=Ht();d(_,h)};k(F,_=>{s?_(f):_($,!1)})}kt(2),n(T);var nt=l(T,2);Dt(nt,{get lasttextPosts(){return r().lasttextPosts},get backlinks(){return r().backlinks}}),n(R),d(y,A),it(),P()}export{le as component,se as universal};
