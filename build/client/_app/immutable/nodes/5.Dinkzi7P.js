import{c as xt,d as ot,a as bt}from"../chunks/Oyg_TdfJ.js";import{h as Pt,t as P,a as b}from"../chunks/CrqCNo7s.js";import{i as st}from"../chunks/C-zKQLXa.js";import{p as lt,l as _,a as nt,e as it,f as q,t as A,s as a,m as o,d as R,g as t,b as r,$ as wt,c as x,n as $t,r as f}from"../chunks/B6FlMjrQ.js";import{s as kt}from"../chunks/iFHsnjK9.js";import{p as W,s as ct,a as dt,i as N}from"../chunks/CvhO7qhS.js";import{s as i,e as jt,i as Ct}from"../chunks/BsRF2vc2.js";import{h as X}from"../chunks/CakbJC7y.js";import{S as Ot}from"../chunks/D9AOjJGB.js";import{p as pt}from"../chunks/BThVNy5y.js";import{P as St}from"../chunks/B4yyLVG6.js";async function zt({params:T,setHeaders:u}){try{const v=await xt(T.slug),[k,w,c]=await Promise.all([v?ot(v.id,1):{posts:[],totalPages:1},bt(1,12),fetch("https://rooidadha.ir/wp-json/backlink/v1/links")]),e=await c.json();return u({"Cache-Control":"public, max-age=300, s-maxage=300"}),{category:v,posts:k.posts,totalPages:k.totalPages,lasttextPosts:w.posts,backlinks:e}}catch(v){return console.error("Error:",v),{category:null,posts:[],totalPages:1,lasttextPosts:[],backlinks:[]}}}const Xt=Object.freeze(Object.defineProperty({__proto__:null,load:zt},Symbol.toStringTag,{value:"Module"}));var Et=P('<meta name="description"> <meta name="keywords"> <meta name="robots" content="index, follow"> <link rel="canonical"> <meta property="og:title"> <meta property="og:description"> <meta property="og:type"> <meta property="og:url"> <meta property="og:site_name"> <meta property="og:locale"> <!>',1);function Dt(T,u){lt(u,!1);const[v,k]=ct(),w=()=>dt(pt,"$page",v),c=o(),e=o(),s=o(),h=o(),l=o(),S=o(),j=o();let z=W(u,"seo",8),d=W(u,"category",8);_(()=>w(),()=>{a(c,`https://rasanashr.ir${w().url.pathname}`)}),_(()=>R(d()),()=>{a(e,d()?`${d().name} | رسانه روز`:"رسانه روز")}),_(()=>(R(z()),R(d())),()=>{var $,y;a(s,(($=z())==null?void 0:$.description)||`آرشیو مطالب دسته ${(y=d())==null?void 0:y.name} در رسانه روز`)}),_(()=>R(d()),()=>{a(h,d()?`${d().name}, رسانه روز, اخبار ${d().name}`:"")}),_(()=>(t(e),t(s),t(c)),()=>{a(l,{title:t(e),description:t(s),type:"website",url:t(c),site_name:"رسانه روز",locale:"fa_IR"})}),_(()=>t(c),()=>{a(S,t(c))}),_(()=>(t(e),t(s),t(c)),()=>{a(j,{"@context":"https://schema.org","@type":"CollectionPage",name:t(e),description:t(s),url:t(c),publisher:{"@type":"Organization",name:"رسانه روز",logo:{"@type":"ImageObject",url:"https://rasarooz.ir/duc.png"}}})}),nt(),st(),Pt($=>{var y=Et(),E=q(y),C=r(E,2),U=r(C,4),B=r(U,2),I=r(B,2),J=r(I,2),n=r(J,2),p=r(n,2),g=r(p,2),F=r(g,2);X(F,()=>`<script type="application/ld+json">${JSON.stringify(t(j))}<\/script>`),A(()=>{wt.title=t(e),i(E,"content",t(s)),i(C,"content",t(h)),i(U,"href",t(S)),i(B,"content",t(l).title),i(I,"content",t(l).description),i(J,"content",t(l).type),i(n,"content",t(l).url),i(p,"content",t(l).site_name),i(g,"content",t(l).locale)}),b($,y)}),it(),k()}var Rt=P('<img class="w-[98%] h-50 object-cover rounded-xl">'),Tt=P('<article class="bg-stone-100 rounded-lg shadow-lg overflow-hidden"><!> <div class="p-6"><h2 class="text-lg font-bold lg:text-2xl text-justify mb-4"><a class="hover:text-red-600"><!></a></h2> <div class="prose prose-lg max-w-none mb-4 text-gray-600 text-justify leading-7"><!></div></div></article>'),Ut=P('<div class="space-y-8"></div> <!>',1),Bt=P('<div class="text-center py-8"><p class="text-xl text-gray-600">هیچ مطلبی در این دسته‌بندی یافت نشد.</p></div>'),It=P('<h1 class="text-lg font-bold lg:text-3xl text-justify mt-4"> </h1> <!>',1),Jt=P('<div class="text-center py-8"><h3 class="text-3xl font-bold mb-4">دسته‌بندی یافت نشد</h3> <p class="text-xl text-gray-600">متأسفانه دسته‌بندی مورد نظر شما در سایت وجود ندارد.</p> <a href="/" class="inline-block mt-4 bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">بازگشت به صفحه اصلی</a></div>'),Mt=P('<!> <div class="flex flex-col lg:flex-row gap-8"><div class="w-full lg:w-2/3"><!> <div class="mb-15"></div></div> <!></div>',1);function Yt(T,u){lt(u,!1);const[v,k]=ct(),w=()=>dt(pt,"$page",v),c=o();let e=W(u,"data",8),s=o(e().posts),h=o(e().category),l=o(e().totalPages),S=o(e().seo),j=o(1),z=!1;async function d(n,p=1){try{z=!0;const g=await ot(n,p);a(s,g.posts),a(l,g.totalPages),a(j,p),window.scrollTo({top:0,behavior:"smooth"})}catch(g){console.error(`Error loading category posts [id=${n}, page=${p}]: ${g.message}`)}finally{z=!1}}_(()=>R(e()),()=>{a(s,e().posts),a(h,e().category),a(l,e().totalPages),a(S,e().seo),a(j,1)}),_(()=>w(),()=>{a(c,`https://rasarooz.ir${w().url.pathname}`)}),nt(),st();var $=Mt(),y=q($);Dt(y,{get category(){return t(h)},get seo(){return t(S)}});var E=r(y,2),C=x(E),U=x(C);{var B=n=>{var p=It(),g=q(p),F=x(g);f(g);var gt=r(g,2);{var mt=O=>{var M=Ut(),G=q(M);jt(G,5,()=>t(s),Ct,(D,m)=>{var H=Tt(),Y=x(H);{var ut=Q=>{var V=Rt();A(()=>{var et,at,rt;i(V,"src",((rt=(at=(et=t(m)._embedded)==null?void 0:et["wp:featuredmedia"])==null?void 0:at[0])==null?void 0:rt.source_url)||"/placeholder.jpg"),i(V,"alt",t(m).title.rendered)}),b(Q,V)};N(Y,Q=>{t(m)._embedded&&t(m)._embedded["wp:featuredmedia"]&&Q(ut)})}var Z=r(Y,2),K=x(Z),L=x(K),ht=x(L);X(ht,()=>t(m).title.rendered),f(L),f(K);var tt=r(K,2),yt=x(tt);X(yt,()=>t(m).excerpt.rendered),f(tt),f(Z),f(H),A(()=>i(L,"href",`/${t(m).id??""}/${t(m).slug??""}`)),b(D,H)}),f(G);var ft=r(G,2);{var _t=D=>{St(D,{get currentPage(){return t(j)},get totalPages(){return t(l)},onPageChange:m=>d(t(h).id,m)})};N(ft,D=>{t(l)>1&&D(_t)})}b(O,M)},vt=O=>{var M=Bt();b(O,M)};N(gt,O=>{t(s)&&t(s).length>0?O(mt):O(vt,!1)})}A(()=>kt(F,`دسته‌بندی: ${t(h).name??""}`)),b(n,p)},I=n=>{var p=Jt();b(n,p)};N(U,n=>{t(h)?n(B):n(I,!1)})}$t(2),f(C);var J=r(C,2);Ot(J,{get lasttextPosts(){return e().lasttextPosts},get backlinks(){return e().backlinks}}),f(E),b(T,$),it(),k()}export{Yt as component,Xt as universal};
