import{i as Ce,a as Ae,j as Oe,k as De,l as Ee,m as Me}from"../chunks/Oyg_TdfJ.js";import{H as qe}from"../chunks/3CALFuJD.js";import{h as Ne,t as w,a as g,c as _e,n as Se,f as Be}from"../chunks/CrqCNo7s.js";import{i as ne}from"../chunks/C-zKQLXa.js";import{p as le,l as Y,a as Pe,e as de,f as re,t as J,s as l,m as A,g as e,d as oe,b as i,$ as Te,c as r,r as a,n as xe,aP as ge,F as be,aQ as Ve}from"../chunks/B6FlMjrQ.js";import{s as X,e as K}from"../chunks/iFHsnjK9.js";import{p as G,s as Le,i as T,a as Qe}from"../chunks/CvhO7qhS.js";import{s as R,e as ue,i as pe,r as he}from"../chunks/BsRF2vc2.js";import{h as ie}from"../chunks/CakbJC7y.js";import{p as Re}from"../chunks/BThVNy5y.js";import{b as ve,S as Ue}from"../chunks/D9AOjJGB.js";import{r as He}from"../chunks/Bu2AUss9.js";import{p as Fe}from"../chunks/CWmzcjye.js";import{o as Je}from"../chunks/YtwqVO3i.js";import{s as ke}from"../chunks/CYkpaUwJ.js";function $e(o,d){throw new qe(o,d)}new TextEncoder;async function We({params:o,fetch:d}){var t,s,u;try{const n=await Ce(o.id);if(!n||n.status!=="publish")throw $e(404,"پست پیدا نشد");const c=((u=(s=(t=n._embedded)==null?void 0:t["wp:term"])==null?void 0:s[0])==null?void 0:u.map(f=>f.id))||[],[p,b,k]=await Promise.all([Ae(1,12),d("https://rooidadha.ir/wp-json/backlink/v1/links"),Oe(o.id,c,3)]),h=await b.json();return{post:n,lasttextPosts:p.posts,backlinks:h,relatedPosts:k}}catch(n){throw console.error(`Error loading post [id=${o.id}, slug=${o.slug}]: ${n.message}`),$e(404,"پست پیدا نشد")}}const sa=Object.freeze(Object.defineProperty({__proto__:null,load:We},Symbol.toStringTag,{value:"Module"}));function Xe(o){return o?o.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&nbsp;/g," "):""}function se(o){return o?(o=o.replace(/متاسفانه مرورگر شما از ویدیو پشتیبانی نمی‌کند\.?/g,""),Xe(o.replace(/<[^>]*>/g,"")).trim()):""}function Ye(o){if(!o)return[];const d=/<video[^>]*>.*?<source[^>]*src=["']([^"']+)["'][^>]*>/gis;return[...o.matchAll(d)].map(s=>s[1])}function Ze(o,d,t,s={}){var n,c;const u={"@context":"https://schema.org","@type":"VideoObject",name:se((n=d.title)==null?void 0:n.rendered)||"ویدیو بدون عنوان",description:se((c=d.excerpt)==null?void 0:c.rendered)||"ویدیوی رسانه روز",thumbnailUrl:[t],uploadDate:d.date?new Date(d.date).toISOString():new Date().toISOString(),contentUrl:o,embedUrl:o,publisher:{"@type":"Organization",name:"رسانه روز",logo:{"@type":"ImageObject",url:"https://rasarooz.ir/icon-512.png",width:"512",height:"512"}}};return s.duration&&(u.duration=s.duration),s.width&&(u.width=s.width),s.height&&(u.height=s.height),u}function Ke(o,d,t=null){var h,f,S,v,$,m,x,P,O,_,q,U;if(!o)return null;const s=((S=(f=(h=o._embedded)==null?void 0:h.author)==null?void 0:f[0])==null?void 0:S.name)||"رسانه روز",u=((m=($=(v=o._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:$[0])==null?void 0:m.source_url)||"https://rasarooz.ir/placeholder.jpg",n=o.date?new Date(o.date).toISOString():new Date().toISOString(),c=o.modified?new Date(o.modified).toISOString():n,b=[{"@context":"https://schema.org","@type":"NewsArticle",headline:se((x=o.title)==null?void 0:x.rendered)||"مقاله بدون عنوان",description:se((P=o.excerpt)==null?void 0:P.rendered)||"مقاله رسانه روز",image:[u],datePublished:n,dateModified:c,author:{"@type":"Person",name:se(s),url:((q=(_=(O=o._embedded)==null?void 0:O.author)==null?void 0:_[0])==null?void 0:q.link)||"https://rasarooz.ir/about-us"},publisher:{"@type":"Organization",name:"رسانه روز",logo:{"@type":"ImageObject",url:"https://rasarooz.ir/icon-512.png",width:"512",height:"512"},url:"https://rasarooz.ir"},mainEntityOfPage:{"@type":"WebPage","@id":d}}];t&&Array.isArray(t)&&t.length>0&&b.push({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t.map(y=>({"@type":"ListItem",position:y.position,name:se(y.name),item:y.position===t.length?void 0:y.item})).filter(y=>y.position<=t.length)});const k=Ye((U=o.content)==null?void 0:U.rendered);return k.length>0&&k.forEach(y=>{var H,I,z;const V={duration:((H=o.meta)==null?void 0:H.video_duration)||null,width:((I=o.meta)==null?void 0:I.video_width)||null,height:((z=o.meta)==null?void 0:z.video_height)||null};b.push(Ze(y,o,u,V))}),b}var Ge=w('<meta name="description"> <meta name="keywords"> <meta name="robots" content="index, follow"> <meta name="author"> <link rel="canonical"> <meta property="og:title"> <meta property="og:description"> <meta property="og:type"> <meta property="og:url"> <meta property="og:image"> <meta property="og:site_name"> <meta property="og:locale"> <meta property="article:published_time"> <meta property="article:modified_time"> <!>',1);function et(o,d){le(d,!1);const[t,s]=Le(),u=()=>Qe(Re,"$page",t),n=A(),c=A(),p=A(),b=A(),k=A(),h=A(),f=A(),S=A();let v=G(d,"post",8);Y(()=>u(),()=>{l(n,`https://rasarooz.ir${u().url.pathname}`)}),Y(()=>(oe(v()),e(n)),()=>{var $,m,x,P,O;l(c,[{position:1,name:"خانه",item:"https://rasarooz.ir/"},...((($=v())==null?void 0:$.categories_info)||[]).map((_,q)=>({position:q+2,name:_.name,item:`https://rasarooz.ir/category/${_.slug}/`})),{position:(((x=(m=v())==null?void 0:m.categories_info)==null?void 0:x.length)||0)+2,name:((O=(P=v())==null?void 0:P.title)==null?void 0:O.rendered)||"",item:e(n).endsWith("/")?e(n):`${e(n)}/`}])}),Y(()=>oe(v()),()=>{l(p,v()?`${v().title.rendered} | رسانه روز`:"رسانه روز")}),Y(()=>oe(v()),()=>{var $,m,x;l(b,((x=(m=($=v())==null?void 0:$.excerpt)==null?void 0:m.rendered)==null?void 0:x.replace(/<[^>]*>/g,"").slice(0,160))||"")}),Y(()=>oe(v()),()=>{var $,m;l(k,((m=($=v())==null?void 0:$.tags_info)==null?void 0:m.map(x=>x.name).join(", "))||"")}),Y(()=>e(n),()=>{l(h,e(n))}),Y(()=>(e(p),e(b),e(n),oe(v())),()=>{var $,m,x,P,O,_;l(f,{title:e(p),description:e(b),type:"article",url:e(n),image:((P=(x=(m=($=v())==null?void 0:$._embedded)==null?void 0:m["wp:featuredmedia"])==null?void 0:x[0])==null?void 0:P.source_url)||"",site_name:"رسانه روز",locale:"fa_IR","article:published_time":(O=v())!=null&&O.date?new Date(v().date).toISOString():"","article:modified_time":(_=v())!=null&&_.modified?new Date(v().modified).toISOString():""})}),Y(()=>(oe(v()),e(n),e(c)),()=>{l(S,v()?Ke(v(),e(n),e(c)):null)}),Pe(),ne(),Ne($=>{var m=Ge(),x=re(m),P=i(x,2),O=i(P,4),_=i(O,2),q=i(_,2),U=i(q,2),y=i(U,2),V=i(y,2),H=i(V,2),I=i(H,2),z=i(I,2),F=i(z,2),N=i(F,2),L=i(N,2);{var D=E=>{var B=_e(),M=re(B);ie(M,()=>`<script type="application/ld+json">${JSON.stringify(e(S),null,2)}<\/script>`),g(E,B)};T(L,E=>{e(S)&&E(D)})}J(()=>{var E,B,M,Q;Te.title=e(p),R(x,"content",e(b)),R(P,"content",e(k)),R(O,"content",((Q=(M=(B=(E=v())==null?void 0:E._embedded)==null?void 0:B.author)==null?void 0:M[0])==null?void 0:Q.name)||"رسانه روز"),R(_,"href",e(h)),R(q,"content",e(f).title),R(U,"content",e(f).description),R(y,"content",e(f).type),R(V,"content",e(f).url),R(H,"content",e(f).image),R(I,"content",e(f).site_name),R(z,"content",e(f).locale),R(F,"content",e(f)["article:published_time"]),R(N,"content",e(f)["article:modified_time"])}),g($,m)}),de(),s()}var tt=w('<a class="block p-3 bg-red-50 hover:bg-red-100 transition-colors rounded-lg border-r-4 border-red-500"><h4 class="font-medium text-gray-800 line-clamp-1"><!></h4></a>'),at=w('<div class="my-8"><div class="flex items-center gap-2 mb-4"><div class="w-1 h-6 bg-red-600 rounded-full"></div> <h3 class="text-lg font-bold text-red-800">مطالب مرتبط</h3></div> <div class="space-y-2"></div></div>');function rt(o,d){le(d,!1);let t=G(d,"relatedPosts",24,()=>[]);ne();var s=_e(),u=re(s);{var n=c=>{var p=at(),b=i(r(p),2);ue(b,5,()=>t().slice(0,3),pe,(k,h)=>{var f=tt(),S=r(f),v=r(S);ie(v,()=>e(h).title.rendered),a(S),a(f),J(()=>R(f,"href",`/${e(h).id}/${e(h).slug}`)),g(k,f)}),a(b),a(p),g(c,p)};T(u,c=>{var p;((p=t())==null?void 0:p.length)>0&&c(n)})}g(o,s),de()}var ot=w('<div class="text-center py-4"><p>در حال بارگذاری نظرات...</p></div>'),st=w('<div class="text-center py-4 text-gray-600"><p>هنوز نظری ثبت نشده است. اولین نفری باشید که نظر می‌دهید!</p></div>'),it=w('<div class="border-b pb-4 last:border-b-0"><div class="flex justify-between items-start mb-2"><div><span class="font-bold"> </span> <span class="text-gray-500 text-sm mr-2"> </span></div></div> <div class="text-gray-700 leading-relaxed"><!></div></div>'),nt=w('<div class="space-y-6"></div>'),lt=w('<p class="text-red-500"> </p>'),dt=w('<p class="text-green-500">نظر شما با موفقیت ثبت شده <br> است! پس از تایید مدیر سایت نمایش داده خواهد شد.</p>'),ct=w('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 w-full max-w-lg mx-4"><h3 class="text-xl text-black font-bold mb-4">ثبت نظر جدید</h3> <form class="space-y-4"><div><label for="name" class="block text-gray-700 mb-1">نام*</label> <input type="text" id="name" class="w-full p-2 border rounded-lg text-red-500" required></div> <div><label for="email" class="block text-gray-700 mb-1">ایمیل*</label> <input type="email" id="email" class="w-full p-2 border rounded-lg text-red-500" required></div> <div><label for="comment" class="block text-gray-700 mb-1">نظر*</label> <textarea id="comment" class="w-full p-2 border rounded-lg h-32 text-red-500" required></textarea></div> <!> <!> <div class="flex justify-end gap-4 mt-6"><button type="button" class="px-4 py-2 text-gray-600 hover:text-gray-800">انصراف</button> <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition duration-200">ارسال نظر</button></div></form></div></div>'),vt=w('<div class="comments-section mt-8 bg-white rounded-lg shadow-lg p-6"><div class="flex justify-between items-center mb-6"><h4 class="text-xl text-black font-bold"> </h4> <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition duration-200">نوشتن نظر</button></div> <!></div> <!>',1);function mt(o,d){le(d,!1);let t=G(d,"postId",8),s=A([]),u=A(!0),n=A(!1),c=A({author_name:"",author_email:"",content:""}),p=A(""),b=A(!1);Je(async()=>{await k()});async function k(){l(u,!0),l(s,await De(t())),l(u,!1)}async function h(){if(l(p,""),l(b,!1),!e(c).content){l(p,"لطفاً متن نظر را وارد کنید");return}try{await Ee(t(),e(c)),l(b,!0),setTimeout(()=>{l(n,!1),l(b,!1)},3e3),l(c,{author_name:"",author_email:"",content:""}),await k()}catch{l(p,"خطا در ثبت نظر. لطفاً دوباره تلاش کنید")}}ne();var f=vt(),S=re(f),v=r(S),$=r(v),m=r($);a($);var x=i($,2);a(v);var P=i(v,2);{var O=y=>{var V=ot();g(y,V)},_=(y,V)=>{{var H=z=>{var F=st();g(z,F)},I=z=>{var F=nt();ue(F,5,()=>e(s),pe,(N,L)=>{var D=it(),E=r(D),B=r(E),M=r(B),Q=r(M,!0);a(M);var Z=i(M,2),ee=r(Z,!0);a(Z),a(B),a(E);var te=i(E,2),j=r(te);ie(j,()=>e(L).content.rendered),a(te),a(D),J(C=>{X(Q,e(L).author_name),X(ee,C)},[()=>Me(e(L).date)],be),g(N,D)}),a(F),g(z,F)};T(y,z=>{e(s).length===0?z(H):z(I,!1)},V)}};T(P,y=>{e(u)?y(O):y(_,!1)})}a(S);var q=i(S,2);{var U=y=>{var V=ct(),H=r(V),I=i(r(H),2),z=r(I),F=i(r(z),2);he(F),a(z);var N=i(z,2),L=i(r(N),2);he(L),a(N);var D=i(N,2),E=i(r(D),2);He(E),a(D);var B=i(D,2);{var M=j=>{var C=lt(),W=r(C,!0);a(C),J(()=>X(W,e(p))),g(j,C)};T(B,j=>{e(p)&&j(M)})}var Q=i(B,2);{var Z=j=>{var C=dt();g(j,C)};T(Q,j=>{e(b)&&j(Z)})}var ee=i(Q,2),te=r(ee);xe(2),a(ee),a(I),a(H),a(V),ve(F,()=>e(c).author_name,j=>ge(c,e(c).author_name=j)),ve(L,()=>e(c).author_email,j=>ge(c,e(c).author_email=j)),ve(E,()=>e(c).content,j=>ge(c,e(c).content=j)),K("click",te,()=>l(n,!1)),K("submit",I,Fe(h)),g(y,V)};T(q,y=>{e(n)&&y(U)})}J(()=>X(m,`نظرات (${e(s).length??""})`)),K("click",x,()=>l(n,!0)),g(o,f),de()}var ut=w('<button class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">بستن</button>'),pt=w('<div class="fixed inset-0 z-50 flex items-center justify-center"><div class="fixed inset-0 bg-black opacity-50"></div> <div class="bg-white rounded-lg shadow-xl z-50 w-11/12 md:w-3/4 lg:w-1/2 max-h-[90vh] flex flex-col"><div class="px-6 py-4 border-b border-gray-200"><h3 class="text-xl font-semibold text-gray-900"> </h3></div> <div class="px-6 py-4 overflow-y-auto"><!></div> <div class="px-6 py-4 border-t border-gray-200"><!></div></div></div>');function ft(o,d){let t=G(d,"show",12,!1),s=G(d,"title",8,"");function u(){t(!1)}var n=_e(),c=re(n);{var p=b=>{var k=pt(),h=r(k),f=i(h,2),S=r(f),v=r(S),$=r(v,!0);a(v),a(S);var m=i(S,2),x=r(m);ke(x,d,"default",{},null),a(m);var P=i(m,2),O=r(P);ke(O,d,"footer",{},_=>{var q=ut();K("click",q,u),g(_,q)}),a(P),a(f),a(k),J(()=>X($,s())),K("click",h,u),g(b,k)};T(c,b=>{t()&&b(p)})}g(o,n)}const gt="aa-mqBjZxLsuox6mNY2R1PoZHovIgNhfcQvCXFz02Ehem4i0sQz",ht="https://api.avalai.ir/v1";async function ye(o){try{const d=await fetch(`${ht}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${gt}`},body:JSON.stringify({model:"gemini-2.5-flash-lite",messages:o})}),t=await d.json();if(!d.ok)throw new Error(t.error||"API request failed");return t.choices[0].message.content}catch(d){throw console.error("Error in Avalai API call:",d),d}}async function _t(o,d){try{const s=[{role:"user",content:`لطفاً ابتدا این محتوا را در چند خط کوتاه خلاصه کن در در بالای آن خلاصه مطلب: را درج کن.

سپس با بررسی عنوان و متن این محتوا در وب، در یک نتیجه کوتاه بیان کن که این مطلب معتبر است یا خیر؟ اگر در جستجوها به مورد مشابهی برخوردی از آنها هم نام ببر.

و در انتها نقش یک خبرنگار تخقیقی را به خود بگیر و با تحلیل این مطلب نظر خودت را در رابطه با این مطلب بیان کن. در بالای این بخش تحلیل این مطلب: را درج کن. ( بسیار کوتاه و قبل فهم بیان کن)

عنوان: ${o}

متن: ${d}`}];return await ye(s)}catch(t){return console.error("Error verifying news:",t),"متأسفانه در بررسی خبر خطایی رخ داد. لطفاً دوباره تلاش کنید."}}async function xt(o,d){try{const s=[{role:"user",content:`لطفاً با مطالعه و بررسی دقیق عنوان و متن این محتوا یک تحلیل کاملاً حرفه ای و بی طرفانه ارائه بده. اگر در رابطه با موضوع رفرنسی وجود دارد، به آنها هم اشاره کن . تحلیل خود را  در نهایت به صورت کوتاه و مختصر و در  2 تا 3 پاراگراف ارائه بده .


عنوان: ${o}

متن: ${d}`}];return await ye(s)}catch(t){return console.error("Error analyzing news:",t),"متأسفانه در تحلیل خبر خطایی رخ داد. لطفاً دوباره تلاش کنید."}}let me=0;const ze=2;async function bt(o,d,t){try{if(me>=ze)return"شما مجاز به پرسیدن بیش از ۲ سوال نیستید.";const u=[{role:"user",content:`در اینجا کاربر سوالاتی را می پرسد که با توجه به عنوان، متن و سوال کاربر باید به او پاسخ بدهی.
لطفاً پس از بررسی سوال کاربر و تطبیق آن با محتوا، پاسخ او را به صورت کوتاه اما قانع کننده بده.
پاسخی که می دی لزوماً نباید از داخل متن باشه و می تونی به کاربر با استفاده از دانش خودت پاسخ بدی. ممکنه کاربر در مورد موضوع مشابهی سوالی داشته باشه، بنابراین مجاز هستی در  مورد سوالش بررسی و تحلیل کنی و بهش پاسخ بدی.
در واقع فیلد سوالات برای این قرار داده شده تا کاربر اگر ابهامی خارج از دایره عنوان و متن این محتوا داره، بتونه پاسخ مناسبی بگیره.

عنوان: ${d}

متن: ${t}

سوال کاربر: ${o}`}],n=await ye(u);return me++,n}catch(s){return console.error("Error answering question:",s),"متأسفانه در پاسخ به سوال خطایی رخ داد. لطفاً دوباره تلاش کنید."}}function yt(){me=0}function je(){return me<ze}var wt=Se('<svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),kt=w('<div class="flex justify-center items-center py-8"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div></div>'),$t=w('<div class="flex flex-col items-center justify-center py-8"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"></div> <p class="text-gray-600">در حال دریافت پاسخ، لطفاً منتظر بمانید...</p></div>'),jt=w('<div class="whitespace-pre-wrap text-justify"><!></div>'),St=w('<div class="prose max-w-none"><!></div>'),Pt=Se('<svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),zt=w('<div class="flex flex-col gap-2"><div class="text-sm text-gray-600 text-left"> </div> <div class="flex items-center gap-2"><input type="text" placeholder="سوال خود را درباره این خبر بپرسید..." class="flex-1 px-4 py-2 border rounded focus:outline-none focus:border-blue-500"> <button class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"><!> </button></div></div>'),It=w('<button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">تحلیل بیشتر محتوا</button>'),Ct=w('<div class="flex flex-col gap-4"><!> <div class="flex justify-between"><button class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">بستن</button> <!></div></div>'),At=w('<div class="flex gap-2 mt-4"><button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2"><!> بررسی محتوا با هوش مصنوعی</button></div> <!>',1);function Ot(o,d){le(d,!1);let t=G(d,"post",8),s=A(!1),u=A(2),n=A(!1),c=A(!1),p=A(""),b=A(""),k=A(!1),h=A("");async function f(){l(b,"بررسی اصالت محتوا{کمی صبر کنید}"),l(n,!0),l(c,!0),l(s,!1),l(k,!1);try{const _=t().content.rendered.replace(/<[^>]*>/g,"");l(p,await _t(t().title.rendered,_)),l(k,!0),yt(),l(u,2)}catch{l(p,"متأسفانه خطایی رخ داد. لطفاً دوباره تلاش کنید.")}finally{l(c,!1)}}async function S(){l(b,"تحلیل محتوا"),l(c,!0),l(s,!1),l(k,!1);try{const _=t().content.rendered.replace(/<[^>]*>/g,"");l(p,await xt(t().title.rendered,_))}catch{l(p,"متأسفانه خطایی رخ داد. لطفاً دوباره تلاش کنید.")}finally{l(c,!1)}}ne();var v=At(),$=re(v),m=r($),x=r(m);{var P=_=>{var q=wt();g(_,q)};T(x,_=>{e(c)&&_(P)})}xe(),a(m),a($);var O=i($,2);ft(O,{get title(){return e(b)},get show(){return e(n)},set show(_){l(n,_)},children:(_,q)=>{var U=St(),y=r(U);{var V=I=>{var z=kt();g(I,z)},H=I=>{var z=jt(),F=r(z);{var N=D=>{var E=$t();g(D,E)},L=(D,E)=>{{var B=M=>{var Q=Be();J(()=>X(Q,e(p))),g(M,Q)};T(D,M=>{e(p)&&M(B)},E)}};T(F,D=>{e(s)?D(N):D(L,!1)})}a(z),g(I,z)};T(y,I=>{e(c)?I(V):I(H,!1)})}a(U),g(_,U)},$$slots:{default:!0,footer:(_,q)=>{var U=Ct(),y=r(U);{var V=N=>{var L=zt(),D=r(L),E=r(D);a(D);var B=i(D,2),M=r(B);he(M);var Q=i(M,2),Z=r(Q);{var ee=j=>{var C=Pt();g(j,C)};T(Z,j=>{e(s)&&j(ee)})}var te=i(Z);a(Q),a(B),a(L),J((j,C)=>{X(E,`سوالات باقیمانده: ${e(u)??""}`),M.disabled=j,Q.disabled=C,X(te,` ${e(s)?"در حال پردازش...":"پرسیدن"}`)},[()=>e(s)||!je(),()=>e(s)||!e(h).trim()],be),ve(M,()=>e(h),j=>l(h,j)),K("click",Q,async()=>{if(e(h).trim()&&!e(s)){if(!je()){l(p,"شما مجاز به پرسیدن بیش از ۲ سوال نیستید.");return}l(s,!0);try{const j=t().content.rendered.replace(/<[^>]*>/g,"");l(p,await bt(e(h),t().title.rendered,j)),Ve(u,-1),l(h,"")}catch{l(p,"متأسفانه در پاسخ به سوال خطایی رخ داد.")}finally{l(s,!1)}}}),g(N,L)};T(y,N=>{e(c)||N(V)})}var H=i(y,2),I=r(H),z=i(I,2);{var F=N=>{var L=It();K("click",L,S),g(N,L)};T(z,N=>{e(k)&&!e(c)&&N(F)})}a(H),a(U),K("click",I,()=>l(n,!1)),g(_,U)}},$$legacy:!0}),J(()=>m.disabled=e(c)),K("click",m,f),g(o,v),de()}var Dt=w('<li class="flex items-center"><span class="text-gray-400 dark:text-gray-600">/</span> <a class="ml-2 hover:text-gray-700 dark:hover:text-gray-300 max-w-[120px] sm:max-w-none whitespace-nowrap overflow-hidden text-ellipsis"> </a></li>'),Et=w('<li class="flex items-center"><span class="text-gray-400 dark:text-gray-600">/</span> <span class="ml-2 text-gray-700 dark:text-gray-400 max-w-[120px] sm:max-w-none whitespace-nowrap overflow-hidden text-ellipsis" aria-current="page"> </span></li>'),Mt=w('<nav aria-label="Breadcrumb" class="text-sm text-gray-500 mb-2"><ol class="flex flex-wrap items-center gap-1 sm:gap-2 rtl:space-x-reverse"><li><a href="/" class="hover:text-gray-700 dark:hover:text-gray-300">خانه</a></li> <!> <!></ol></nav>');function qt(o,d){let t=G(d,"items",24,()=>[]),s=G(d,"postTitle",8,"");var u=Mt(),n=r(u),c=i(r(n),2);ue(c,1,t,pe,(k,h)=>{var f=Dt(),S=i(r(f),2),v=r(S,!0);a(S),a(f),J(()=>{R(S,"href",e(h).href),X(v,e(h).name)}),g(k,f)});var p=i(c,2);{var b=k=>{var h=Et(),f=i(r(h),2),S=r(f,!0);a(f),a(h),J(()=>X(S,s())),g(k,h)};T(p,k=>{s()&&k(b)})}a(n),a(u),g(o,u)}var Nt=w('<div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <a class="hover:text-red-600 svelte-5qnj3o"> </a></div>'),Bt=w('<a class="text-red-600 hover:underline svelte-5qnj3o"> </a>'),Tt=w('<a class="bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-sm hover:bg-gray-300 svelte-5qnj3o"> </a>'),Vt=w('<div class="mt-8"><h3 class="font-bold text-gray-800 mb-2">برچسب‌ها:</h3> <div class="flex flex-wrap gap-2"></div></div>'),Lt=w('<article class="bg-white rounded-lg shadow-lg overflow-hidden"><div class="p-6"><!> <h1 class="text-lg font-bold lg:text-3xl text-justify mt-4 mb-4 text-black"><!></h1> <div class="flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-gray-500 mb-4"><!> <div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <span> </span></div> <!></div></div> <div class="flex md:justify-end justify-center my-1 ml-2"><!></div> <div id="content-prose" class="p-6 prose prose-lg max-w-none text-justify leading-loose link-styles text-gray-900"><!></div> <div class="p-4 border-t border-gray-200"><!> <!></div></article> <!> <div class="mb-8"></div>',1),Qt=w('<div class="text-center py-12"><p class="text-xl text-gray-600">در حال بارگذاری...</p></div>'),Rt=w('<!> <div class="flex flex-col lg:flex-row gap-8"><div class="w-full lg:w-2/3"><!></div> <!></div>',1);function ia(o,d){le(d,!1);const t=A(),s=A(),u=A();let n=G(d,"data",8);function c(m){const x=new Date(m),P={year:"numeric",month:"long",day:"numeric",calendar:"persian"};return new Intl.DateTimeFormat("fa-IR",P).format(x)}Y(()=>oe(n()),()=>{l(t,n().post)}),Y(()=>e(t),()=>{var m,x,P,O;l(s,(O=(P=(x=(m=e(t))==null?void 0:m._embedded)==null?void 0:x["wp:term"])==null?void 0:P[0])==null?void 0:O[0])}),Y(()=>e(s),()=>{l(u,e(s)?[{name:e(s).name,href:`/category/${e(s).slug}`}]:[])}),Pe(),ne();var p=Rt(),b=re(p);et(b,{get post(){return n().post}});var k=i(b,2),h=r(k),f=r(h);{var S=m=>{var x=Lt(),P=re(x),O=r(P),_=r(O);qt(_,{get items(){return e(u)},get postTitle(){return e(t).title.rendered}});var q=i(_,2),U=r(q);ie(U,()=>e(t).title.rendered),a(q);var y=i(q,2),V=r(y);{var H=C=>{var W=Nt(),ae=i(r(W),2),fe=r(ae,!0);a(ae),a(W),J(()=>{R(ae,"href",`/author/${e(t)._embedded.author[0].slug??""}`),X(fe,e(t)._embedded.author[0].name)}),g(C,W)};T(V,C=>{e(t)._embedded&&e(t)._embedded.author&&C(H)})}var I=i(V,2),z=i(r(I),2),F=r(z,!0);a(z),a(I);var N=i(I,2);{var L=C=>{var W=Bt(),ae=r(W,!0);a(W),J(()=>{R(W,"href",`/category/${e(s).slug??""}`),X(ae,e(s).name)}),g(C,W)};T(N,C=>{e(s)&&C(L)})}a(y),a(O);var D=i(O,2),E=r(D);Ot(E,{get post(){return e(t)}}),a(D);var B=i(D,2),M=r(B);ie(M,()=>e(t).content.rendered),a(B);var Q=i(B,2),Z=r(Q);rt(Z,{get relatedPosts(){return n().relatedPosts}});var ee=i(Z,2);{var te=C=>{var W=Vt(),ae=i(r(W),2);ue(ae,5,()=>e(t)._embedded["wp:term"][1],pe,(fe,we)=>{var ce=Tt(),Ie=r(ce,!0);a(ce),J(()=>{R(ce,"href",`/tag/${e(we).slug??""}`),X(Ie,e(we).name)}),g(fe,ce)}),a(ae),a(W),g(C,W)};T(ee,C=>{e(t)._embedded&&e(t)._embedded["wp:term"]&&e(t)._embedded["wp:term"][1]&&e(t)._embedded["wp:term"][1].length>0&&C(te)})}a(Q),a(P);var j=i(P,2);mt(j,{get postId(){return e(t).id}}),xe(2),J(C=>X(F,C),[()=>c(e(t).date)],be),g(m,x)},v=m=>{var x=Qt();g(m,x)};T(f,m=>{e(t)?m(S):m(v,!1)})}a(h);var $=i(h,2);Ue($,{get lasttextPosts(){return n().lasttextPosts},get backlinks(){return n().backlinks}}),a(k),g(o,p),de()}export{ia as component,sa as universal};
