{"version":3,"file":"_server-C_tco8gh.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/sitemaps/categories.xml/_server.js"],"sourcesContent":["import { b as fetchAllCategories } from \"../../../../chunks/sitemap-data.js\";\nconst SITE_URL = \"https://rasanashr.ir\";\nfunction generateSitemapXml(entries) {\n  let xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n  xml += '<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">';\n  entries.forEach((entry) => {\n    const loc = `${SITE_URL}/category/${entry.slug}`;\n    xml += `\n      <url>\n        <loc>${loc}</loc>\n        <lastmod>${entry.lastmod}</lastmod>\n        <changefreq>weekly</changefreq>\n        <priority>0.7</priority>\n      </url>\n    `;\n  });\n  xml += \"</urlset>\";\n  return xml;\n}\nasync function GET({ fetch }) {\n  try {\n    const categories = await fetchAllCategories(fetch);\n    const sitemapXml = generateSitemapXml(categories);\n    return new Response(sitemapXml.trim(), {\n      headers: {\n        \"Content-Type\": \"application/xml\",\n        \"Cache-Control\": \"public, max-age=0, s-maxage=43200\"\n        // Cache for 12 hours\n      }\n    });\n  } catch (error) {\n    console.error(\"Error generating categories sitemap:\", error);\n    return new Response(\"Error generating categories sitemap\", { status: 500 });\n  }\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;AACA,MAAM,QAAQ,GAAG,sBAAsB;AACvC,SAAS,kBAAkB,CAAC,OAAO,EAAE;AACrC,EAAE,IAAI,GAAG,GAAG,wCAAwC;AACpD,EAAE,GAAG,IAAI,8DAA8D;AACvE,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AAC7B,IAAI,MAAM,GAAG,GAAG,CAAC,EAAE,QAAQ,CAAC,UAAU,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;AACpD,IAAI,GAAG,IAAI;AACX;AACA,aAAa,EAAE,GAAG,CAAC;AACnB,iBAAiB,EAAE,KAAK,CAAC,OAAO,CAAC;AACjC;AACA;AACA;AACA,IAAI,CAAC;AACL,GAAG,CAAC;AACJ,EAAE,GAAG,IAAI,WAAW;AACpB,EAAE,OAAO,GAAG;AACZ;AACA,eAAe,GAAG,CAAC,EAAE,KAAK,EAAE,EAAE;AAC9B,EAAE,IAAI;AACN,IAAI,MAAM,UAAU,GAAG,MAAM,kBAAkB,CAAC,KAAK,CAAC;AACtD,IAAI,MAAM,UAAU,GAAG,kBAAkB,CAAC,UAAU,CAAC;AACrD,IAAI,OAAO,IAAI,QAAQ,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE;AAC3C,MAAM,OAAO,EAAE;AACf,QAAQ,cAAc,EAAE,iBAAiB;AACzC,QAAQ,eAAe,EAAE;AACzB;AACA;AACA,KAAK,CAAC;AACN,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,sCAAsC,EAAE,KAAK,CAAC;AAChE,IAAI,OAAO,IAAI,QAAQ,CAAC,qCAAqC,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAC/E;AACA;;;;"}