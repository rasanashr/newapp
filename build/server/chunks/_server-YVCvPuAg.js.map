{"version":3,"file":"_server-YVCvPuAg.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/feed/_server.js"],"sourcesContent":["import { f as fetchLatestPostsForFeed } from \"../../../chunks/wordpress.js\";\nasync function GET() {\n  const { posts } = await fetchLatestPostsForFeed();\n  const siteUrl = \"https://rasarooz.ir\";\n  const feedTitle = \"Rasanooz News Feed\";\n  const feedDescription = \"آخرین اخبار رسانه روز\";\n  const feedLink = `${siteUrl}/feed`;\n  const items = posts.map((post) => {\n    const link = `${siteUrl}/${post.id}/${post.slug}`;\n    const pubDate = new Date(post.date).toUTCString();\n    const description = post.excerpt && post.excerpt.rendered ? post.excerpt.rendered : \"\";\n    return `\n      <item>\n        <title><![CDATA[${post.title.rendered}]]></title>\n        <link>${link}</link>\n        <guid>${link}</guid>\n        <pubDate>${pubDate}</pubDate>\n        <description><![CDATA[${description}]]></description>\n      </item>\n    `;\n  }).join(\"\\n\");\n  const rss = `<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<rss version=\"2.0\">\n  <channel>\n    <title><![CDATA[${feedTitle}]]></title>\n    <link>${feedLink}</link>\n    <description><![CDATA[${feedDescription}]]></description>\n    <language>fa</language>\n    <generator>SvelteKit RSS</generator>\n    ${items}\n  </channel>\n</rss>`;\n  return new Response(rss, {\n    headers: {\n      \"Content-Type\": \"application/rss+xml; charset=utf-8\"\n    }\n  });\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;AACA,eAAe,GAAG,GAAG;AACrB,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,uBAAuB,EAAE;AACnD,EAAE,MAAM,OAAO,GAAG,qBAAqB;AACvC,EAAE,MAAM,SAAS,GAAG,oBAAoB;AACxC,EAAE,MAAM,eAAe,GAAG,uBAAuB;AACjD,EAAE,MAAM,QAAQ,GAAG,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC;AACpC,EAAE,MAAM,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK;AACpC,IAAI,MAAM,IAAI,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;AACrD,IAAI,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE;AACrD,IAAI,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,EAAE;AAC1F,IAAI,OAAO;AACX;AACA,wBAAwB,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;AAC9C,cAAc,EAAE,IAAI,CAAC;AACrB,cAAc,EAAE,IAAI,CAAC;AACrB,iBAAiB,EAAE,OAAO,CAAC;AAC3B,8BAA8B,EAAE,WAAW,CAAC;AAC5C;AACA,IAAI,CAAC;AACL,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,EAAE,MAAM,GAAG,GAAG,CAAC;AACf;AACA;AACA,oBAAoB,EAAE,SAAS,CAAC;AAChC,UAAU,EAAE,QAAQ,CAAC;AACrB,0BAA0B,EAAE,eAAe,CAAC;AAC5C;AACA;AACA,IAAI,EAAE,KAAK;AACX;AACA,MAAM,CAAC;AACP,EAAE,OAAO,IAAI,QAAQ,CAAC,GAAG,EAAE;AAC3B,IAAI,OAAO,EAAE;AACb,MAAM,cAAc,EAAE;AACtB;AACA,GAAG,CAAC;AACJ;;;;"}