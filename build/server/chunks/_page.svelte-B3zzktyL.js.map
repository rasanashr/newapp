{"version":3,"file":"_page.svelte-B3zzktyL.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/page/_slug_/_page.svelte.js"],"sourcesContent":["import { j as store_get, i as head, u as unsubscribe_stores, c as bind_props, p as pop, d as push, a as escape_html, b as attr } from \"../../../../chunks/index2.js\";\nimport { p as page } from \"../../../../chunks/stores.js\";\nimport { h as html } from \"../../../../chunks/html.js\";\nimport { S as Sidebar } from \"../../../../chunks/Sidebar.js\";\nimport DOMPurify from \"dompurify\";\nfunction PageSEO($$payload, $$props) {\n  push();\n  var $$store_subs;\n  let currentUrl, title, description, keywords, og, canonical, schema;\n  let pageData = $$props[\"pageData\"];\n  currentUrl = `https://rasanashr.ir${store_get($$store_subs ??= {}, \"$page\", page).url.pathname}`;\n  title = pageData ? `${pageData.title.rendered} | رسانه روز` : \"رسانه روز\";\n  description = pageData?.excerpt?.rendered?.replace(/<[^>]*>/g, \"\").slice(0, 160) || \"\";\n  keywords = pageData ? `رسانه روز, ${pageData.title.rendered}` : \"\";\n  og = {\n    title,\n    description,\n    type: \"article\",\n    url: currentUrl,\n    image: pageData?._embedded?.[\"wp:featuredmedia\"]?.[0]?.source_url || \"\",\n    site_name: \"رسانه روز\",\n    locale: \"fa_IR\",\n    \"article:published_time\": pageData?.date,\n    \"article:modified_time\": pageData?.modified\n  };\n  canonical = currentUrl;\n  schema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"WebPage\",\n    name: pageData?.title?.rendered,\n    description,\n    datePublished: pageData?.date,\n    dateModified: pageData?.modified,\n    author: {\n      \"@type\": \"Person\",\n      name: pageData?._embedded?.author?.[0]?.name || \"رسانه روز\"\n    },\n    publisher: {\n      \"@type\": \"Organization\",\n      name: \"رسانه روز\",\n      logo: {\n        \"@type\": \"ImageObject\",\n        url: \"https://rasarooz.ir/duc.png\"\n      }\n    },\n    mainEntityOfPage: { \"@type\": \"WebPage\", \"@id\": currentUrl }\n  };\n  head($$payload, ($$payload2) => {\n    $$payload2.title = `<title>${escape_html(title)}</title>`;\n    $$payload2.out += `<meta name=\"description\"${attr(\"content\", description)}> <meta name=\"keywords\"${attr(\"content\", keywords)}> <meta name=\"robots\" content=\"index, follow\"> <meta name=\"author\"${attr(\"content\", pageData?._embedded?.author?.[0]?.name || \"رسانه روز\")}> <link rel=\"canonical\"${attr(\"href\", canonical)}> <meta property=\"og:title\"${attr(\"content\", og.title)}> <meta property=\"og:description\"${attr(\"content\", og.description)}> <meta property=\"og:type\"${attr(\"content\", og.type)}> <meta property=\"og:url\"${attr(\"content\", og.url)}> <meta property=\"og:image\"${attr(\"content\", og.image)}> <meta property=\"og:site_name\"${attr(\"content\", og.site_name)}> <meta property=\"og:locale\"${attr(\"content\", og.locale)}> <meta property=\"article:published_time\"${attr(\"content\", og[\"article:published_time\"])}> <meta property=\"article:modified_time\"${attr(\"content\", og[\"article:modified_time\"])}> ${html(`<script type=\"application/ld+json\">${JSON.stringify(schema)}<\\/script>`)}`;\n  });\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  bind_props($$props, { pageData });\n  pop();\n}\nconst defaultOptions = {\n  ALLOWED_TAGS: [\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"h5\",\n    \"h6\",\n    \"p\",\n    \"br\",\n    \"b\",\n    \"i\",\n    \"strong\",\n    \"em\",\n    \"ul\",\n    \"ol\",\n    \"li\",\n    \"a\",\n    \"img\",\n    \"blockquote\",\n    \"pre\",\n    \"code\",\n    \"table\",\n    \"thead\",\n    \"tbody\",\n    \"tr\",\n    \"th\",\n    \"td\",\n    \"div\",\n    \"span\",\n    \"hr\"\n  ],\n  ALLOWED_ATTR: [\n    \"href\",\n    \"src\",\n    \"alt\",\n    \"title\",\n    \"class\",\n    \"target\",\n    \"rel\",\n    \"width\",\n    \"height\"\n  ]\n};\nfunction sanitizeHtml(content) {\n  if (typeof window === \"undefined\") return content;\n  return DOMPurify.sanitize(content, defaultOptions);\n}\nfunction _page($$payload, $$props) {\n  push();\n  var $$store_subs;\n  let pageData, content;\n  let data = $$props[\"data\"];\n  pageData = data.page;\n  `https://rasarooz.ir${store_get($$store_subs ??= {}, \"$page\", page).url.pathname}`;\n  content = pageData?.content?.rendered ? sanitizeHtml(pageData.content.rendered) : \"\";\n  PageSEO($$payload, { pageData: data.page });\n  $$payload.out += `<!----> <div class=\"flex flex-col lg:flex-row gap-8\"><div class=\"w-full lg:w-2/3\">`;\n  if (pageData) {\n    $$payload.out += \"<!--[-->\";\n    $$payload.out += `<article class=\"bg-white rounded-lg shadow-lg overflow-hidden\"><div class=\"p-8\"><h1 class=\"text-3xl font-bold mb-8 text-right text-black\">${html(pageData.title.rendered)}</h1> <div class=\"prose prose-lg text-black max-w-none rtl\">${html(content)}</div></div></article>`;\n  } else {\n    $$payload.out += \"<!--[!-->\";\n    $$payload.out += `<div class=\"bg-white rounded-lg shadow-lg p-8 text-center\"><h1 class=\"text-3xl font-bold mb-4\">صفحه مورد نظر یافت نشد</h1> <p class=\"text-xl text-gray-600 mb-6\">متأسفانه صفحه مورد نظر شما در سایت وجود ندارد.</p> <a href=\"/\" class=\"btn btn-primary\">بازگشت به صفحه اصلی</a></div>`;\n  }\n  $$payload.out += `<!--]--> <div class=\"mb-5\"></div></div> `;\n  Sidebar($$payload, {\n    lasttextPosts: data.lasttextPosts,\n    backlinks: data.backlinks\n  });\n  $$payload.out += `<!----></div> <div class=\"mb-10\"></div>`;\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  bind_props($$props, { data });\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}