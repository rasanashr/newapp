{"version":3,"file":"_server-DnMRzJ32.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/sitemaps/tags-_page_.xml/_server.js"],"sourcesContent":["import { d as fetchSitemapEntries } from \"../../../../chunks/sitemap-data.js\";\nconst SITEMAP_PAGE_SIZE = 1e3;\nfunction generateSitemap(entries) {\n  let xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n  xml += '<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">';\n  entries.forEach((entry) => {\n    xml += `\n      <url>\n        <loc>${entry.loc}</loc>\n        <lastmod>${entry.lastmod}</lastmod>\n        <changefreq>monthly</changefreq>\n        <priority>0.6</priority>\n      </url>\n    `;\n  });\n  xml += \"</urlset>\";\n  return xml;\n}\nasync function GET({ params, fetch }) {\n  try {\n    const page = parseInt(params.page, 10);\n    if (isNaN(page) || page < 1) {\n      return new Response(\"Invalid page number\", { status: 400 });\n    }\n    const tags = await fetchSitemapEntries(fetch, \"tags\", page, SITEMAP_PAGE_SIZE);\n    if (tags.length === 0) {\n      return new Response(\"No tags found for this page.\", {\n        status: 404,\n        headers: { \"Content-Type\": \"text/plain\" }\n      });\n    }\n    const sitemapXml = generateSitemap(tags);\n    return new Response(sitemapXml.trim(), {\n      headers: {\n        \"Content-Type\": \"application/xml\",\n        \"Cache-Control\": \"public, max-age=0, s-maxage=43200\"\n        // Cache for 12 hours\n      }\n    });\n  } catch (error) {\n    if (process.env.NODE_ENV === \"production\") {\n      console.error(`Tags sitemap error on page ${params.page}: ${error.message}`);\n    }\n    return new Response(\"Error generating tags sitemap\", { status: 500 });\n  }\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;AACA,MAAM,iBAAiB,GAAG,GAAG;AAC7B,SAAS,eAAe,CAAC,OAAO,EAAE;AAClC,EAAE,IAAI,GAAG,GAAG,wCAAwC;AACpD,EAAE,GAAG,IAAI,8DAA8D;AACvE,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AAC7B,IAAI,GAAG,IAAI;AACX;AACA,aAAa,EAAE,KAAK,CAAC,GAAG,CAAC;AACzB,iBAAiB,EAAE,KAAK,CAAC,OAAO,CAAC;AACjC;AACA;AACA;AACA,IAAI,CAAC;AACL,GAAG,CAAC;AACJ,EAAE,GAAG,IAAI,WAAW;AACpB,EAAE,OAAO,GAAG;AACZ;AACA,eAAe,GAAG,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;AACtC,EAAE,IAAI;AACN,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC;AAC1C,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC,EAAE;AACjC,MAAM,OAAO,IAAI,QAAQ,CAAC,qBAAqB,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACjE;AACA,IAAI,MAAM,IAAI,GAAG,MAAM,mBAAmB,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,iBAAiB,CAAC;AAClF,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AAC3B,MAAM,OAAO,IAAI,QAAQ,CAAC,8BAA8B,EAAE;AAC1D,QAAQ,MAAM,EAAE,GAAG;AACnB,QAAQ,OAAO,EAAE,EAAE,cAAc,EAAE,YAAY;AAC/C,OAAO,CAAC;AACR;AACA,IAAI,MAAM,UAAU,GAAG,eAAe,CAAC,IAAI,CAAC;AAC5C,IAAI,OAAO,IAAI,QAAQ,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE;AAC3C,MAAM,OAAO,EAAE;AACf,QAAQ,cAAc,EAAE,iBAAiB;AACzC,QAAQ,eAAe,EAAE;AACzB;AACA;AACA,KAAK,CAAC;AACN,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC/C,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC,2BAA2B,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;AAClF;AACA,IAAI,OAAO,IAAI,QAAQ,CAAC,+BAA+B,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACzE;AACA;;;;"}