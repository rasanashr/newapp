{"version":3,"file":"_server-BEl29PXM.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/sitemaps/pages.xml/_server.js"],"sourcesContent":["import { c as fetchAllPages } from \"../../../../chunks/sitemap-data.js\";\nconst SITE_URL = \"https://rasanashr.ir\";\nfunction generateSitemapXml(wpPages) {\n  let xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n  xml += '<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">';\n  wpPages.forEach((page) => {\n    xml += `\n      <url>\n        <loc>${page.loc}</loc>\n        <lastmod>${page.lastmod}</lastmod>\n        <changefreq>monthly</changefreq>\n        <priority>0.5</priority>\n      </url>\n    `;\n  });\n  const staticPages = [\n    { loc: `${SITE_URL}/categories`, changefreq: \"weekly\", priority: 0.7 },\n    { loc: `${SITE_URL}/lastnews`, changefreq: \"daily\", priority: 0.8 }\n  ];\n  staticPages.forEach((page) => {\n    xml += `\n      <url>\n        <loc>${page.loc}</loc>\n        <lastmod>${(/* @__PURE__ */ new Date()).toISOString()}</lastmod>\n        <changefreq>${page.changefreq}</changefreq>\n        <priority>${page.priority}</priority>\n      </url>\n    `;\n  });\n  xml += \"</urlset>\";\n  return xml;\n}\nasync function GET({ fetch }) {\n  try {\n    const wpPages = await fetchAllPages(fetch);\n    const sitemapXml = generateSitemapXml(wpPages);\n    return new Response(sitemapXml.trim(), {\n      headers: {\n        \"Content-Type\": \"application/xml\",\n        \"Cache-Control\": \"public, max-age=0, s-maxage=86400\"\n        // Cache for 24 hours\n      }\n    });\n  } catch (error) {\n    if (process.env.NODE_ENV === \"production\") {\n      console.error(`Pages sitemap generation error: ${error.message}`);\n    }\n    return new Response(\"Error generating pages sitemap\", { status: 500 });\n  }\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;AACA,MAAM,QAAQ,GAAG,sBAAsB;AACvC,SAAS,kBAAkB,CAAC,OAAO,EAAE;AACrC,EAAE,IAAI,GAAG,GAAG,wCAAwC;AACpD,EAAE,GAAG,IAAI,8DAA8D;AACvE,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AAC5B,IAAI,GAAG,IAAI;AACX;AACA,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC;AACxB,iBAAiB,EAAE,IAAI,CAAC,OAAO,CAAC;AAChC;AACA;AACA;AACA,IAAI,CAAC;AACL,GAAG,CAAC;AACJ,EAAE,MAAM,WAAW,GAAG;AACtB,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,QAAQ,CAAC,WAAW,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,EAAE;AAC1E,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,QAAQ,CAAC,SAAS,CAAC,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG;AACrE,GAAG;AACH,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AAChC,IAAI,GAAG,IAAI;AACX;AACA,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC;AACxB,iBAAiB,EAAE,iBAAiB,IAAI,IAAI,EAAE,EAAE,WAAW,EAAE,CAAC;AAC9D,oBAAoB,EAAE,IAAI,CAAC,UAAU,CAAC;AACtC,kBAAkB,EAAE,IAAI,CAAC,QAAQ,CAAC;AAClC;AACA,IAAI,CAAC;AACL,GAAG,CAAC;AACJ,EAAE,GAAG,IAAI,WAAW;AACpB,EAAE,OAAO,GAAG;AACZ;AACA,eAAe,GAAG,CAAC,EAAE,KAAK,EAAE,EAAE;AAC9B,EAAE,IAAI;AACN,IAAI,MAAM,OAAO,GAAG,MAAM,aAAa,CAAC,KAAK,CAAC;AAC9C,IAAI,MAAM,UAAU,GAAG,kBAAkB,CAAC,OAAO,CAAC;AAClD,IAAI,OAAO,IAAI,QAAQ,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE;AAC3C,MAAM,OAAO,EAAE;AACf,QAAQ,cAAc,EAAE,iBAAiB;AACzC,QAAQ,eAAe,EAAE;AACzB;AACA;AACA,KAAK,CAAC;AACN,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC/C,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC,gCAAgC,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;AACvE;AACA,IAAI,OAAO,IAAI,QAAQ,CAAC,gCAAgC,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAC1E;AACA;;;;"}